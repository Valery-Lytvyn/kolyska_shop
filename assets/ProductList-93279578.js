import{r as u,u as f,j as s,o as h,R as j,s as p}from"./index-76d131e7.js";import{L as d}from"./LazyImage-2a8040f0.js";import{a as x,n as S}from"./services-9b6a6543.js";import{T as C}from"./Layout-d8545850.js";import{T as w}from"./typeToast-425ada16.js";import{u as P}from"./useDispatch-70f1a137.js";import{a as B}from"./constants-ded45ac9.js";import{T as v}from"./TextButton-fe4126ef.js";const k=r=>{const[t,a]=u.useState(null);return{items:u.useMemo(()=>{const e=[...r];return t!==null&&t.key!==null&&e.sort((o,i)=>{if(o[t.key]!==void 0&&i[t.key]!==void 0){if(o[t.key]<i[t.key])return t.direction==="ascending"?-1:1;if(o[t.key]>i[t.key])return t.direction==="ascending"?1:-1}return 0}),e},[r,t]),requestSort:e=>{let o="ascending";t&&t.key===e&&t.direction==="ascending"&&(o="descending"),a({key:e,direction:o})}}},T="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAACXBIWXMAAAsTAAALEwEAmpwYAAADT0lEQVR4nO2aTYhOURjHf77ykciQ2IyZkIWP0oRZkChNkc9MTdnMq7ERCysLUYqFJrOQoqh5CwllRSklWSgf5SNlxcxYGPI1JWGi0amrprdz3HvOuefc55r511PT28z/Ps9/7vs/zznPARiyjD7CoNXwvOAYcoiGkS5A+0gXoHukC9D3PwnQmhJdkXygMAHS0BjJB8QKoNAbwQdEC1CN4AOiBahE8AHRAjRG8AHRAsTwAfECVAP7gHgBKoF9QLwAjYF9QLwAoX2gFAJUA/pAKQSoBPSBUgjQkIMPbDJsuk4auE2btGWU1Ac6DIXaxJdAp1LRfOCSpwBtFIj2HHxgOvDKsfizDjmvBq5qYlGR/cAK4Kdl8S+AKQ45n9NwfQUmUnA/cNCi+O+OxjcW6NfwXUFAPzAGuJFRgD2Oua4y8O1CSD8wG3ibUvw1j1yPafh+ATMl7QvWAb8NnG+AOo9cn2s475ADejTE6qvhihMavkGg2YNznkHUAwjcF4wH7tfwKZP0wT6DAAsRui+oBz4Pe03HeeZ4S5PfS4SfD+wE3gNzPXmmJktnbX6d5IienH1guLi+2G74BynDLdW8wBXdmtwGgAmUbF6AY/f3TpPXZUo6N7RFc4jur8i5oS2Oh+j+yuQDuu7vXqiHVYT5QL0hH9+mqjQ+YOr+Fod8aK8gH9B1fyq/oKgK8QFT93cq9IMrQnxghyGPlqLmBV0ZLmHlGTfzPvvz9QEJcZ1IqAooVhe7YwlQEVBsbahjtjmxBGgQUHBtPCQyegQUPTwOxRZgFKMwYz6wMQn1s8/p8UpgK7AWmIFwbDNsT58BWyx4JgNHgU+a2YGaHC1AIDozGJUaiKRhFvA4hUed961HEPZbuPXelPO9uxl5Bjy/XrmhLknG5sqL6bvcZrn0qYsPhaPDYc1WnWTW/f2/YlCCMZ5xEOC0geujA5daHQrFRYekLxi4fjhwbaYE7j+UcTVwaa+bKBgtDklvMHCdt+T5kMNU2Rtq6XpikfTT5G90WJoMNUq3AWoCvmVIWP3O8hSuIxmLfwBMQhDWGIaUf6M/ucSY5TbZ4ZQ34Xao0ReeULdC1WupWll1QKniUfLZNEuuJcmlx9fJJUslrjoIVZcqlEjW+AM0IkBw0bVlRQAAAABJRU5ErkJggg==";function N({itemData:r}){const[t,a]=u.useState(!1),{price:n,picture:c,name:e,barcode:o}=r,i=P(),A=u.useContext(C),m=f(),g=()=>{i(h({id:o,title:e,image:c,price:n,quantity:1})),S("Товар додано до кошика",w.SUCCESS)},l=()=>{m(j.product(o||0)),i(p(o))};return s.jsx(s.Fragment,{children:r&&s.jsxs("div",{className:"single-product",onMouseEnter:()=>a(!0),onMouseLeave:()=>a(!1),children:[s.jsx("div",{className:"product-picture",onClick:l,children:s.jsx(d,{src:c,alt:e})}),s.jsxs("div",{className:"product-description",children:[s.jsx("p",{className:"product-name",onClick:l,children:e}),t&&s.jsx("div",{className:`product-cart-image ${A==="light"?"":"light-style-product-cart-image"}`,onClick:g,children:s.jsx(d,{src:T,alt:"add to cart button"})}),s.jsx("h2",{className:"product-price",children:x(n)})]})]})})}function U({requestSort:r}){const[t,a]=u.useState("Сортувати"),[n,c]=u.useState(!1);return s.jsx("div",{className:"sort-button",onMouseEnter:()=>c(!0),onMouseLeave:()=>c(!1),children:n?s.jsx("ul",{className:"sort-button-list",children:B.map(({sortTitle:e,sortConfig:o})=>s.jsx("li",{className:"sort-button-item",onClick:()=>{r(o),a(`Відсортовано: ${e}`),c(!1)},children:s.jsx("div",{className:"sort-button-item-value",children:e})},e))}):s.jsx(v,{text:t})})}function D({productsData:r}){const{items:t,requestSort:a}=k(r);return s.jsxs(s.Fragment,{children:[s.jsx(U,{requestSort:a}),s.jsx("div",{className:"product-list",children:t==null?void 0:t.map(n=>s.jsx(N,{itemData:n},`${n.barcode}${n.name}`))})]})}export{D as P};
