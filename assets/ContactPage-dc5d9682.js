import{r as g,j as i}from"./index-d2fe1167.js";import{T as j}from"./TextButton-e7a8be24.js";import{n as d}from"./services-a489f581.js";import{T as p}from"./typeToast-425ada16.js";import{P as _}from"./PageSubtitle-07f65e3a.js";import"./constants-ded45ac9.js";const m={_origin:"https://api.emailjs.com"},v=(t,e="https://api.emailjs.com")=>{m._userID=t,m._origin=e},f=(t,e,o)=>{if(!t)throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!e)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!o)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates";return!0};class u{constructor(e){this.status=e?e.status:0,this.text=e?e.responseText:"Network Error"}}const h=(t,e,o={})=>new Promise((n,r)=>{const a=new XMLHttpRequest;a.addEventListener("load",({target:s})=>{const c=new u(s);c.status===200||c.text==="OK"?n(c):r(c)}),a.addEventListener("error",({target:s})=>{r(new u(s))}),a.open("POST",m._origin+t,!0),Object.keys(o).forEach(s=>{a.setRequestHeader(s,o[s])}),a.send(e)}),S=(t,e,o,n)=>{const r=n||m._userID;return f(r,t,e),h("/api/v1.0/email/send",JSON.stringify({lib_version:"3.11.0",user_id:r,service_id:t,template_id:e,template_params:o}),{"Content-type":"application/json"})},T=t=>{let e;if(typeof t=="string"?e=document.querySelector(t):e=t,!e||e.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of form";return e},w=(t,e,o,n)=>{const r=n||m._userID,a=T(o);f(r,t,e);const s=new FormData(a);return s.append("lib_version","3.11.0"),s.append("service_id",t),s.append("template_id",e),s.append("user_id",r),h("/api/v1.0/email/send-form",s)},E={init:v,send:S,sendForm:w};function N(){const t=g.useRef(null),e=async o=>{o.preventDefault();const{current:n}=t;if(n){const r=new FormData(n),a=r.get("name"),s=r.get("email"),c=r.get("message");if(console.log(a,s,c),a&&s&&c)try{await E.sendForm("service_c4nsjbk","template_cjroexq",n,"vhZJkv-_dXV-apvNU"),d("Повідомлення надіслане",p.SUCCESS),n.reset()}catch(l){console.error("Error:",l);const x=l.message;console.error("Error sending message:",l),d(x,p.ERROR)}else d("будь ласка, заповніть усі поля",p.ERROR)}};return i.jsx("div",{className:"contact-page",children:i.jsxs("div",{className:"container",children:[i.jsx(_,{text:"Зв'яжіться з нами"}),i.jsxs("form",{ref:t,className:"contact-form",onSubmit:e,children:[i.jsx("input",{type:"text",name:"name",placeholder:"Ім'я"}),i.jsx("input",{type:"email",name:"email",placeholder:"Ел. скринька"}),i.jsx("textarea",{name:"message",rows:10,placeholder:"Напишіть Ваше повідомлення",className:"contact-textarea"}),i.jsx(j,{text:"Send"})]})]})})}export{N as default};
