import{r as g,j as i}from"./index-ad4b6af9.js";import{T as j}from"./TextButton-f9c10c34.js";import{n as l}from"./services-3fc5e297.js";import{T as p}from"./typeToast-425ada16.js";import{P as _}from"./PageSubtitle-7afd6041.js";import"./constants-ded45ac9.js";const m={_origin:"https://api.emailjs.com"},v=(t,e="https://api.emailjs.com")=>{m._userID=t,m._origin=e},f=(t,e,a)=>{if(!t)throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!e)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!a)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates";return!0};class u{constructor(e){this.status=e?e.status:0,this.text=e?e.responseText:"Network Error"}}const h=(t,e,a={})=>new Promise((o,r)=>{const n=new XMLHttpRequest;n.addEventListener("load",({target:s})=>{const c=new u(s);c.status===200||c.text==="OK"?o(c):r(c)}),n.addEventListener("error",({target:s})=>{r(new u(s))}),n.open("POST",m._origin+t,!0),Object.keys(a).forEach(s=>{n.setRequestHeader(s,a[s])}),n.send(e)}),S=(t,e,a,o)=>{const r=o||m._userID;return f(r,t,e),h("/api/v1.0/email/send",JSON.stringify({lib_version:"3.11.0",user_id:r,service_id:t,template_id:e,template_params:a}),{"Content-type":"application/json"})},T=t=>{let e;if(typeof t=="string"?e=document.querySelector(t):e=t,!e||e.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of form";return e},w=(t,e,a,o)=>{const r=o||m._userID,n=T(a);f(r,t,e);const s=new FormData(n);return s.append("lib_version","3.11.0"),s.append("service_id",t),s.append("template_id",e),s.append("user_id",r),h("/api/v1.0/email/send-form",s)},E={init:v,send:S,sendForm:w};function N(){const t=g.useRef(null),e=async a=>{a.preventDefault();const{current:o}=t;if(o){const r=new FormData(o),n=r.get("name"),s=r.get("email"),c=r.get("message");if(n&&s&&c)try{await E.sendForm("service_c4nsjbk","template_cjroexq",o,"vhZJkv-_dXV-apvNU"),l("Повідомлення надіслане",p.SUCCESS),o.reset()}catch(d){console.error("Error:",d);const x=d.message;console.error("Error sending message:",d),l(x,p.ERROR)}else l("Будь ласка, заповніть усі поля",p.ERROR)}};return i.jsx("div",{className:"contact-page",children:i.jsxs("div",{className:"container",children:[i.jsx(_,{text:"Зв'яжіться з нами"}),i.jsxs("form",{ref:t,className:"contact-form",onSubmit:e,children:[i.jsx("input",{type:"text",name:"name",placeholder:"Ім'я"}),i.jsx("input",{type:"email",name:"email",placeholder:"Ел. скринька"}),i.jsx("textarea",{name:"message",rows:10,placeholder:"Напишіть Ваше повідомлення",className:"contact-textarea"}),i.jsx(j,{text:"Send"})]})]})})}export{N as default};
