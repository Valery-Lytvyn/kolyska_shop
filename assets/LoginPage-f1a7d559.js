import{r as u,j as s,u as E,v as b,R as C}from"./index-76d131e7.js";import{c as P,a as j,u as R,f as S,G as q,s as w,b as k,d as F,L as U}from"./Loader-6d501444.js";import{T as p}from"./typeToast-425ada16.js";import{n as g}from"./services-9b6a6543.js";import{L}from"./LazyImage-2a8040f0.js";import{u as G}from"./useDispatch-70f1a137.js";import"./constants-ded45ac9.js";function z({toggleForm:c,showLoader:d,hideLoader:l}){const[a,r]=u.useState(""),[n,t]=u.useState(""),[o,m]=u.useState(""),[x,f]=u.useState(""),v=i=>{i.preventDefault(),(a.length||n.length||o.length||x.length)===0?g("будь ласка, заповніть усі поля",p.ERROR):(o.length&&x.length)<6?g("Пароль має бути не менше 6 символів",p.INFO):o!==x?g("Паролі не збігаються",p.ERROR):(d(),P(j,n,o).then(()=>{l(),r(""),t(""),m(""),f(""),g("Реєстрація пройшла успішно",p.SUCCESS)}).then(()=>{j.currentUser&&R(j.currentUser,{displayName:a}),c("login")}).catch(A=>{l();const e=A.message;S(e)}))};return s.jsxs("div",{className:"register-form",children:[s.jsx("p",{className:"page-title",children:"Зареєструватися зараз"}),s.jsxs("form",{className:"sign-up-form ",onSubmit:v,children:[s.jsxs("div",{className:"input-wrap",children:[s.jsxs("div",{className:"input-group",children:[s.jsx("label",{htmlFor:"name",children:"Ім'я:"}),s.jsx("input",{type:"text",name:"name",value:a,id:"userName",onChange:i=>r(i.target.value)})]}),s.jsxs("div",{className:"input-group",children:[s.jsx("label",{htmlFor:"email",children:"Ел. пошта:"}),s.jsx("input",{type:"email",name:"email",value:n,id:"email",onChange:i=>t(i.target.value)})]}),s.jsxs("div",{className:"input-group",children:[s.jsx("label",{htmlFor:"password",children:"Пароль:"}),s.jsx("input",{type:"password",name:"password",value:o,autoComplete:"on",id:"password",onChange:i=>m(i.target.value)})]}),s.jsxs("div",{className:"input-group",children:[s.jsx("label",{htmlFor:"pass-confirm",children:"Підтвердити пароль:"}),s.jsx("input",{type:"password",name:"passwordConfirm",value:x,autoComplete:"on",id:"passwordConfirm",onChange:i=>f(i.target.value)})]})]}),s.jsx("button",{type:"submit",className:"login-button sign-up-button",children:s.jsx("p",{children:"Зареєструватися"})})]}),s.jsx("p",{className:"question-link",onClick:()=>c("login"),children:"Вже є аккаунт? Увійдіть тут."})]})}const I="data:image/png;base64,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";function W({toggleForm:c,showLoader:d,hideLoader:l}){const[a,r]=u.useState(""),[n,t]=u.useState(""),o=E(),m=G(),x=e=>{e.preventDefault(),(a.length||n.length)===0?g("Будь ласка, заповніть усі поля",p.ERROR):(d(),w(j,a,n).then(h=>{const N=h.user;r(""),t(""),i(N)}).catch(h=>{l();const N=h.message;A(N)}))},f=new q,v=()=>{d(),k(j,f).then(e=>{const h=e.user;i(h)}).catch(e=>{l();const h=e.message;A(h)})},i=e=>{l(),g("вхід успішний",p.SUCCESS),m(b({userPhoto:e.photoURL,email:e.email,userName:e.displayName,userId:e.uid})),o(C.index)},A=e=>{console.log(e),g(e.slice(10),p.ERROR)};return s.jsxs("div",{className:"login-form",children:[s.jsx("p",{className:"page-title",children:"Вхід"}),s.jsxs("div",{className:"login-button",onClick:v,children:[s.jsx("div",{className:"login-button-icon",children:s.jsx(L,{src:I,alt:"Google icon"})}),s.jsx("p",{children:"Google"})]}),s.jsx("p",{className:"offer-text",children:s.jsx("span",{children:"або"})}),s.jsxs("form",{className:"sign-in-form",onSubmit:x,children:[s.jsxs("div",{className:"input-wrap",children:[s.jsxs("div",{className:"input-group",children:[s.jsx("label",{htmlFor:"email",children:"Ел. пошта:"}),s.jsx("input",{type:"email",name:"email",value:a,id:"email",onChange:e=>r(e.target.value)})]}),s.jsxs("div",{className:"input-group",children:[s.jsx("label",{htmlFor:"password",children:"Пароль:"}),s.jsx("input",{type:"password",name:"password",value:n,autoComplete:"on",id:"password",onChange:e=>t(e.target.value)})]})]}),s.jsx("button",{type:"submit",className:"login-button sign-up-button",children:s.jsx("p",{children:"Увійти"})})]}),s.jsxs("div",{className:"question-link-wrap",children:[s.jsx("p",{className:"question-link",onClick:()=>c("registration"),children:"Немає облікового запису? Реєструйтесь."}),s.jsx("p",{className:"question-link",onClick:()=>c("resetPassword"),children:"Забули свій пароль? Скинути тут."})]})]})}function O({toggleForm:c,showLoader:d,hideLoader:l}){const[a,r]=u.useState(""),n=t=>{t.preventDefault(),d(),F(j,a).then(()=>{l(),g("Перевірте свою електронну пошту, щоб знайти посилання для скидання",p.SUCCESS),r("")}).catch(o=>{l();const m=o.message;S(m)})};return s.jsxs("div",{className:"login-form",children:[s.jsx("p",{className:"page-title",children:"Скинути пароль"}),s.jsxs("form",{className:"sign-in-form",onSubmit:n,children:[s.jsxs("div",{className:"input-wrap",children:[s.jsx("label",{htmlFor:"email",children:"Ел. пошта:"})," ",s.jsx("input",{type:"email",name:"email",value:a,id:"email",onChange:t=>r(t.target.value)})]}),s.jsx("button",{type:"submit",className:"login-button sign-up-button",children:s.jsx("p",{children:"Скинути пароль"})})]}),s.jsxs("div",{className:"question-link-wrap",children:[s.jsx("p",{className:"question-link",onClick:()=>c("login"),children:"Вже є аккаунт? Увійдіть тут."}),s.jsx("p",{className:"question-link",onClick:()=>c("registration"),children:"Немає облікового запису? Реєструйтесь."})]})]})}function K(){const[c,d]=u.useState("login"),[l,a]=u.useState(!1),r=m=>d(m),n=()=>{a(!0)},t=()=>{a(!1)},o=m=>{switch(m){case"login":return s.jsx(W,{toggleForm:r,showLoader:n,hideLoader:t});case"registration":return s.jsx(z,{toggleForm:r,showLoader:n,hideLoader:t});case"resetPassword":return s.jsx(O,{toggleForm:r,showLoader:n,hideLoader:t});default:return null}};return s.jsxs("div",{className:"login-page",children:[l&&s.jsx(U,{}),o(c)]})}export{K as default};
